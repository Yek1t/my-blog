---
title: InnoDB与MyISAM——MySQL两个引擎的比较
date: 2021-4-07
tags:
 - MySQL
categories:
 - 数据库
---

||InnoDB|MyISAM|
|:----:|:----:|:----:|
|外键|支持|不支持|
|事务|支持|不支持|
|行锁|支持|不支持|
|表锁|支持|支持|
|缓存|缓存索引和真实数据|只缓存索引，不缓存真实数据|
|B树索引|支持|支持|
|聚集索引|支持|不支持|
|非聚集索引|不支持|支持|
|全文索引|不支持|支持|

 - InnoDB,最为通用/推荐的一种引擎，支持事务、行级锁、甚至间隙锁（避免幻读）、支持热备份，MVCC，在并发上占优势，系统资源占用多。  
 InnoDB对死锁的处理：此处死锁与OS死锁类似，多个事务互相持有对方所有要申请资源的锁不释放，造成环路死锁。MySQL InnoDB引擎检测到死锁循环依赖后，回滚持有最少行级锁的事务。
 - MyISAM,默认的存储引擎，不支持事务和行级锁，只支持表锁，某些场景性能很好：占用存储上优，查询速度上完胜（大概是InnoDB的3倍）系统资源占用少。
 - InnoDB和MyISAM都支持B+树索引，InnoDB还支持自适应哈希索引
 - MyISAM实现了前缀压缩技术，占用存储空间更小（但会影响查找），InnoDB是原始数据存储，占用存储更大。  
PS：大部分情况下，InnoDB都是正确的选择。---《高性能MySQL》
